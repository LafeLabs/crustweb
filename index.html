<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

        <!--

    CRUST WEB
    
    Local Social Media
    
    github.com/lafelabs/crustweb
    
    All Code and ideas CC0 Public Domain


    -->
    
<link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA//8AAP//AAD+fwAA/n8AAOfnAADzzwAAuB0AAJ/5AADH4wAAcY4AADw8AACf+QAAz/MAAOPHAAD4HwAA" rel="icon" type="image/x-icon" />

   <title>CRUST WEB</title>    
<script src = "https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

</head>
<body>    
<h1>CRUST WEB</h1>
<p>
    Physically Local Digital Media
</p>

<iframe style = "display:block;margin:auto;" width="560" height="315" src="https://www.youtube.com/embed/Y5BZkaWZAAA" title="YouTube video player" frameborder="0" ></iframe>

<img style = "max-width:40%;display:block;margin:auto" src="https://raw.githubusercontent.com/LafeLabs/crustweb/main/images/replicator.jpg"/>

<ul>
    <li>
        <a href = "web/">Learn to Weave the Web</a>
    </li>
    <li>
        <a href = "https://www.github.com/lafelabs/crustweb/">Replicate CRUST WEB server</a>
    </li>
    <li>
        <a href = "images.html">Images</a>
    </li>
    <li>
        <a href = "media.html">Media</a>
    </li>
    <li>
        <a href = "scroll.html">Trash Magic Books</a>
    </li>
</ul>

<div id = "qrcode"></div>
<h3><a id=  "serverlink"></a></h3>
<table>
    <tr>
        <td>Server URL(http://[your ip address]/):</td><td><input id = "serverurlinput"/></td>
    </tr>
</table>

<script>

serverurl = "http://localhost/";

codesquaresize = 200;

qrcode = new QRCode(document.getElementById("qrcode"), {
	text: serverurl,
	width: codesquaresize,
	height: codesquaresize,
	colorDark : "#000000",
	colorLight : "#ffffff",
	correctLevel : QRCode.CorrectLevel.H
});


var httpc666 = new XMLHttpRequest();
httpc666.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            serverurl = this.responseText;
            loadserver();
        }
    };
httpc666.open("GET", "fileloader.php?filename=data/serverurl.txt", true);
httpc666.send();



document.getElementById("serverurlinput").onchange = function(){
    serverurl = this.value;
    loadserver();
}


function loadserver(){
    document.getElementById("serverlink").href = serverurl;
    document.getElementById("serverlink").innerHTML = serverurl;
    document.getElementById("serverurlinput").value = serverurl;
    qrcode.makeCode(serverurl);
}







</script>
<style>
input{
    background-color:black;
    color:#00ff00;
    font-family:courier;
    border-color:#00ff00;
}
table{
    font-family:courier;
    font-size:14px;
}
body{
    font-size:2em;
    padding:0em 4em 4em 4em;
    overflow:scroll;
    background-color:black;
    color:#00ff00;
}
#qrcode{
    
}
h1{
    text-align:center;
}
a{
    color:#ff2cb4;
}
</style>
</body>
</html>
